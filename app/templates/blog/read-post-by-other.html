{% extends "layout/internal.html" %}

{% block navigation %}
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <a class="btn btn-primary" href="{{home}}">View All Posts</a>
        <a class="btn logout pull-right" href="{{logout}}">Logout</a>
    </div>
</nav>
{% endblock %}

{% block main_content %}
    <div id="read-post" class="container">

        {{post.render() | safe}}

        <form id="like-form" method="get">
            <span>Did you like this article?</span>
            {% if is_favorite %}
            <input type='hidden' name="favorite" value="false" />
            <button type="submit">
                <i class="glyphicon glyphicon-heart" aria-hidden="true"></i>
            </button>
            {% else %}
            <input type='hidden' name="favorite" value="true" />
            <button type="submit">
                <i class="glyphicon glyphicon-heart-empty" aria-hidden="true"></i>
            </button>
            {% endif %}
        </form>

        <div class='comments'>
            <h2>Comments</h2>

            {% if comments %}
            <ul>
                {% for c in comments %}
                    <li>
                        {{c.render() | safe}}
                    </li>
                {% endfor %}
            </ul>
            {% endif %}

            <!-- comment form -->
            <form class="form-horizontal" id="new-comment-form" method="post">
                <p class='error text-danger'>{{new_comment.error}}</p>

                <div class="form-group row">
                    <label class="col-sm-2" for="new-comment">Post Comment</label>
                    <div class="col-sm-10">
                        <textarea id="new-comment"
                                  class="form-control"
                                  name="new-comment">{{new_comment.content}}</textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input class="btn btn-primary" type='submit' value="Submit" />
                        <input class="btn btn-default" type='reset' value="Reset" />
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
